---
/**
 * Tech Arsenal Section
 * Categorized grid of technology icons with 3D tilt hover effect.
 *
 * @depends config.techStack
 * @styles Scoped SCSS — tech grid, cards, icons + responsive
 */
import SectionHeader from './SectionHeader.astro';
import { config } from '@config/index';

const base = import.meta.env.BASE_URL.replace(/\/?$/, '/');
---

<!-- ══════ TECH ARSENAL ══════ -->
<section id="tech" class="section">
  <SectionHeader label="// What I use" title="Tech Arsenal" />
  <div class="tech-grid stagger">
    {config.techStack.map((category) => (
      <div class="tech-card glass reveal" data-tilt>
        <div class="tech-card-title"><span class="emoji">{category.emoji}</span> {category.title}</div>
        <div class="tech-icons">
          {category.items.map((item) => (
            <a href={item.url} target="_blank" rel="noopener" class="tech-icon">
              <img src={item.isLocal ? `${base}${item.icon}` : item.icon} alt={item.name} />
              <span>{item.name}</span>
            </a>
          ))}
        </div>
      </div>
    ))}
  </div>
</section>

<style lang="scss">
  @use '../styles/mixins' as *;

  .tech-grid {
    @include responsive-grid;
  }

  .tech-card {
    @include card-padding;
    transition: all var(--duration-slow) var(--ease-out-expo);

    &:hover { transform: translateY(-4px); }
  }

  .tech-card-title {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;

    .emoji { font-size: 1.3rem; }
  }

  .tech-icons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    justify-content: center;

    @include respond-to(mobile) { gap: 0.5rem; justify-content: center; }
  }

  .tech-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    padding: 0.6rem;
    border-radius: 10px;
    transition: all var(--duration-normal);
    min-width: 64px;

    &:hover {
      background: rgba(var(--accent-glow), 0.08);
      transform: translateY(-2px);
    }

    img {
      width: 40px; height: 40px;
      object-fit: contain;

      @include respond-to(mobile) { width: 36px; height: 36px; }
      @include respond-to(small) { width: 32px; height: 32px; }
    }

    span {
      font-size: 0.7rem;
      color: var(--text-dim);
      text-align: center;

      @include respond-to(small) { font-size: 0.6rem; }
    }

    @include respond-to(mobile) { min-width: 56px; }
  }

  a.tech-icon {
    text-decoration: none;
    color: inherit;
  }
</style>
