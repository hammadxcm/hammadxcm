---
/**
 * Certifications Section
 * Grid of certification cards with badge icons, issuer info,
 * and external verification links.
 *
 * @depends config.certifications, ArrowIcon
 * @styles Scoped SCSS — cert grid, cards, badges + responsive
 */
import SectionHeader from './SectionHeader.astro';
import ArrowIcon from './ArrowIcon.astro';
import { config } from '@config/index';
---

<!-- ══════ CERTIFICATIONS ══════ -->
<section id="certs" class="section">
  <SectionHeader label="// Credentials" title="Certifications" />
  <div class="certs-grid stagger">
    {config.certifications.map((cert) => (
      <a href={cert.href} target="_blank" rel="noopener" class="cert-card glass reveal glow-border" aria-label={cert.ariaLabel}>
        <div class="cert-badge">
          {cert.badge.type === 'image'
            ? <img src={cert.badge.src} width={cert.badge.width} alt={cert.badge.alt} />
            : <Fragment set:html={cert.badge.svg} />
          }
        </div>
        <p class="cert-category" set:html={cert.category} />
        <h3 class="cert-name">{cert.name}</h3>
        <p class="cert-issuer" set:html={cert.issuer} />
        {cert.date && <p class="cert-date">{cert.date}</p>}
        <span class="cert-ext">View Certificate <ArrowIcon /></span>
      </a>
    ))}
  </div>
</section>

<style lang="scss">
  @use '../styles/mixins' as *;

  .certs-grid {
    @include responsive-grid(280px, false);
    max-width: 1100px;
    margin: 0 auto;
  }

  a.cert-card {
    @include card-padding;
    display: block;
    text-align: center;
    transition: all var(--duration-slow) var(--ease-out-expo);
    color: inherit;
    text-decoration: none;
    cursor: pointer;

    &:hover { color: inherit; }
  }

  .cert-badge {
    font-size: 2.5rem;
    margin-bottom: 1rem;

    img {
      @include respond-to(mobile) { width: 40px; height: 40px; }
    }
  }

  .cert-category {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--accent);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
  }

  .cert-name {
    font-size: 1.05rem;
    font-weight: 600;
    margin-bottom: 0.25rem;

    @include respond-to(mobile) { font-size: 0.95rem; }
  }

  .cert-issuer {
    font-size: 0.8rem;
    color: var(--accent-blue);
    margin-top: 0.35rem;
  }

  .cert-date {
    font-size: 0.85rem;
    color: var(--text-dim);
  }

  a.cert-card .cert-ext {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.75rem;
    color: var(--text-dim);
    margin-top: 0.75rem;
    transition: color var(--duration-normal);

    :global(svg) {
      width: 14px; height: 14px;
      fill: none;
      stroke: currentColor;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }
  }

  a.cert-card:hover .cert-ext { color: var(--accent); }
</style>
